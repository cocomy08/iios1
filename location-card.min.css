:root{--map-grass:#e9f5e1;--map-road:#ffffff;--map-road-line:#e0e0e0;--map-river:#b3e5fc;--map-building:#ffffff;--marker-color:#27c34b}.message-row.location-message{display:flex;align-items:flex-end;justify-content:flex-end;padding:8px 12px;gap:10px}.message-row.location-message .message-content-wrapper{background:0 0!important;padding:0!important;box-shadow:none!important;border:none!important;flex-shrink:0;width:220px!important;max-width:220px!important}.map-card{width:220px!important;min-width:220px!important;background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 6px 24px rgba(0,0,0,.1);font-family:"PingFang SC",-apple-system,BlinkMacSystemFont,sans-serif}.map-card .info-section{padding:10px;border-bottom:1px solid #f0f0f0}.map-card .title{font-size:17px;font-weight:600;color:#333;margin-bottom:4px;line-height:1.3}.map-card .address{font-size:12px;color:#999;line-height:1.4}.map-card .map-canvas{height:140px;background-color:var(--map-grass);position:relative;overflow:hidden;background-image:radial-gradient(#dcedc8 1px,transparent 1px);background-size:16px 16px}.map-card .river-path{position:absolute;width:80px;height:150%;background:var(--map-river);right:-15px;top:-20%;transform:rotate(20deg);z-index:1;box-shadow:inset 8px 0 15px rgba(0,0,0,.05)}.map-card .main-road{position:absolute;background:var(--map-road);z-index:2;display:flex;align-items:center;justify-content:center}.map-card .main-road::after{content:"";border:1px dashed var(--map-road-line)}.map-card .h-road{width:100%;height:24px;top:70px}.map-card .h-road::after{width:100%;height:0}.map-card .v-road{width:22px;height:100%;left:70px}.map-card .v-road::after{width:0;height:100%}.map-card .neighborhood{position:absolute;z-index:3;display:grid;grid-template-columns:repeat(2,1fr);gap:5px}.map-card .building{background:var(--map-building);border-bottom:2px solid #e0e0e0;border-radius:3px;box-shadow:1px 1px 3px rgba(0,0,0,.05)}.map-card .tree{position:absolute;width:5px;height:5px;background:#aed581;border-radius:50%;z-index:2}.map-card .marker-fixed{position:absolute;top:70px;left:70px;transform:translate(-50%,-100%);z-index:10}.map-card .marker-label{position:absolute;bottom:-20px;left:50%;transform:translateX(-50%);background:#333;color:#fff;padding:2px 6px;border-radius:3px;font-size:9px;white-space:nowrap}.map-card .dist-badge{position:absolute;bottom:10px;right:10px;background:rgba(255,255,255,.95);padding:5px 12px;border-radius:16px;font-size:11px;font-weight:600;color:#222;z-index:20;box-shadow:0 3px 10px rgba(0,0,0,.1)}.message-row.location-message .chat-avatar-wrapper{display:flex!important;flex-shrink:0}.message-row.location-message .chat-avatar{width:36px;height:36px;object-fit:cover}